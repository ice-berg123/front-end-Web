"use strict";(self.webpackChunkdouban02=self.webpackChunkdouban02||[]).push([[535],{866:(e,t,l)=>{var r=l(272);function o(e){let t=1;if(0===e){document.querySelector("#failedOrSuccess").style.backgroundColor="rgba(255, 0, 0,1)";let e=setInterval((()=>{document.querySelector("#failedOrSuccess").style.backgroundColor=`rgba(255, 0, 0,${t})`,t-=.05,t<-.05&&clearInterval(e)}),100)}else{document.querySelector("#failedOrSuccess").style.backgroundColor="rgba(65,172,82)";let e=setInterval((()=>{document.querySelector("#failedOrSuccess").style.backgroundColor=`rgba(65,172,82,${t})`,t-=.05,t<-.05&&clearInterval(e)}),100)}}let c=document.querySelector("#login"),n=document.querySelector("#form_login");c.addEventListener("click",(async()=>{let e=(0,r.cS)(n),t=await(0,r.Gz)("/login",e);if(0==t.status&&(document.querySelector("#failedOrSuccess").textContent=t.info,o(0)),t.status){let l=e.replace("username","Username").replace("password","Password"),c=await(0,r.Gz)("/auth",l);localStorage.setItem("token",c.data.token),document.querySelector("#failedOrSuccess").textContent=t.info,o(1),setInterval((()=>{let e=(0,r.pS)("/index.js");window.location.href=e}),500)}}));let s=document.querySelector("#reg"),u=document.querySelector("#form_reg"),a=(s.addEventListener("click",(async()=>{let e=(0,r.cS)(u),t=await(0,r.Gz)("/newuser",e);console.log(t),0==t.status&&(document.querySelector("#failedOrSuccess").textContent=t.info,o(0)),t.status&&(document.querySelector("#failedOrSuccess").textContent=t.info,o(1))})),document.querySelectorAll(".log_title"));(0,r.TY)(a,"log_title_click",(function(e){let t=document.querySelectorAll(".regOrLog");for(let e=0;e<t.length;e++)t[e].style.display="none";t[e].style.display="block",0==e&&(document.querySelector("#reg_step1").style.display="block",document.querySelector("#reg_step2").style.display="none")})),document.querySelector("#next").addEventListener("click",(()=>{document.querySelector("#reg_step1").style.display="none",document.querySelector("#reg_step2").style.display="block"}))}},e=>{var t;t=866,e(e.s=t)}]);